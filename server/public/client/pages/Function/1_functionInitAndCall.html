<div>
<H1 CLASS="western">8.1. Определение и вызов функций
</H1>
<P STYLE="margin-bottom: 0.11in">Как мы видели в главе
    6, самый распространенный способ
    определения функции – использование
    инструкции function. Она состоит из ключевого
    слова function, за которым следуют:
</P>
<P STYLE="margin-bottom: 0.11in">• имя функции;</P>
<P STYLE="margin-bottom: 0.11in"> • заключенный в
    круглые скобки необязательный список
    имен параметров, разделенных запятыми;
</P>
<P STYLE="margin-bottom: 0.11in">• JavaScript инструкции,
    составляющие тело функции, заключенные
    в фигурные скобки.
</P>
<P STYLE="margin-bottom: 0.11in">В примере 8.1 показаны
    определения некоторых функций. Хотя
    эти функции короткие и простые, они
    содержат все перечисленные здесь
    элементы. Обратите внимание: в функциях
    может быть определено различное
    количество аргументов, функции также
    могут содержать или не содержать
    инструкцию return.
</P>
<P STYLE="margin-bottom: 0.11in">Инструкция return
    прекращает выполнение функции и
    возвращает значение указанного в ней
    выражения (если оно есть) вызывающей
    стороне; при отсутствии выражения
    инструкция возвращает значение undefined.
    Если функция не содержит инструкцию
    return, она просто выполняет все инструкции
    в своем теле и возвращает неопределенное
    значение (undefined). <FONT SIZE=2><I>Пример 8.1.
        Определение JavaScript'функций</I></FONT></P>
<P STYLE="margin-bottom: 0.11in"> <FONT SIZE=2><I>// Функцияобертка,
    иногда ее удобно использовать вместо
    document.write().</I></FONT></P>
<P STYLE="margin-bottom: 0.11in"> <FONT SIZE=2><I>// В этой
    функции отсутствует инструкция return,
    поэтому она не возвращает значение.</I></FONT></P>
<P STYLE="margin-bottom: 0.11in"> <FONT SIZE=2><SPAN LANG="en-US"><I>function
    print(msg) { </I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><SPAN LANG="en-US"><I>document.write(msg,
    &quot; &quot;); </I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>} </I></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>// Функция,
    вычисляющая и возвращающая расстояние
    между двумя точками.</I></FONT></P>
<P STYLE="margin-bottom: 0.11in"> <FONT SIZE=2><SPAN LANG="en-US"><I>function
    distance(x1, y1, x2, y2) {</I></SPAN></FONT></P>
<P STYLE="margin-bottom: 0.11in"> <FONT SIZE=2><SPAN LANG="en-US"><I>var
    dx = x2 x1; var dy = y2  y1; </I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><SPAN LANG="en-US"><I>return
    Math.sqrt(dx*dx + dy*dy); </I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>} // Рекурсивная
    функция (вызывающая сама себя), вычисляющая
    факториалы. </I></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>// Вспомните,
    что x! – это произведение x и всех
    положительных целых чисел, меньших х. </I></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><SPAN LANG="en-US"><I>function
    factorial(x) {</I></SPAN></FONT></P>
<P STYLE="margin-bottom: 0.11in"> <FONT SIZE=2><SPAN LANG="en-US"><I>if
    (x &lt;= 1) return 1; </I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>return x *
    factorial(x-1); </I></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>} </I></FONT>
</P>
<P STYLE="margin-bottom: 0.11in">Будучи один раз
    определенной, функция может вызываться
    с помощью оператора ().</P>
<P STYLE="margin-bottom: 0.11in">Как вы помните, скобки
    указываются после имени функции, а
    необязательный список значений (или
    выражений) аргументов указывается в
    скобках через запятую (фактически перед
    круглыми скобками может указываться
    любое JavaScript выражение, которое возвращает
    значение функцию).
</P>
<P STYLE="margin-bottom: 0.11in">Функции, определенные
    в примере 8.1, могут быть вызваны следующим
    образом:
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>print(&quot;Привет,
    &quot; + name); </I></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>print(&quot;Добро
    пожаловать на мою домашнюю страницу</I></FONT><FONT SIZE=2><SPAN LANG="en-US"><I>!&quot;);
</I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><SPAN LANG="en-US"><I>total_dist
    = distance(0,0,2,1) + distance(2,1,3,5); </I></SPAN></FONT>
</P>
<P STYLE="margin-bottom: 0.11in"><FONT SIZE=2><I>print(&quot;Вероятность
    этого равна: &quot; + factorial(5)/factorial(13));</I></FONT></P>
<P STYLE="margin-bottom: 0.11in"> При вызове функции
    вычисляются все выражения, указанные
    между скобками, и полученные значения
    используются в качестве аргументов
    функции.
</P>
<P STYLE="margin-bottom: 0.11in">Эти значения
    присваиваются параметрам, имена которых
    перечислены в определении функции, и
    функция работает с ними, ссылаясь на
    эти параметры по указанным именам.
    Обратите внимание: эти переменные
    параметры определены, только пока
    выполняется функция; они не сохраняются
    после завершения ее работы (за одним
    важным исключением)</P>
<P ALIGN=JUSTIFY STYLE="margin-bottom: 0.11in">JavaScript – язык
    с нестрогой типизацией, поэтому тип
    параметров функций указывать не
    требуется, и JavaScript не проверяет,
    соответствует ли тип данных требованиям
    функции. Если тип аргумента важен, вы
    можете проверить его самостоятельно с
    помощью оператора typeof. Кроме того,
    JavaScript не проверяет, правильное ли
    количество параметров передано функции.
    Если аргументов больше, чем требуется
    функции, то дополнительные значения
    просто игнорируются. Если аргументов
    меньше, то отсутствующим присваивается
    значение undefined. Некоторые функции
    написаны так, что могут достаточно
    терпимо относиться к нехватке аргументов,
    другие ведут себя некорректно, если
    получают меньшее число аргументов, чем
    предполагалось. Далее в этой главе мы
    познакомимся с приемом, позволяющим
    проверить, правильное ли количество
    аргументов передано в функцию, и
    организовать доступ к этим аргументам
    по их порядковым номерам в списке
    аргументов, а не по именам.
</P>
<P ALIGN=JUSTIFY STYLE="margin-bottom: 0.11in">Обратите
    внимание: в функции print() из примера 8.1
    нет инструкции return, поэтому она всегда
    возвращает значение undefined, и использовать
    ее в качестве части более сложного
    выражения не имеет смысла. А функции
    distance() и factorial() могут вызываться в более
    сложных выражениях, что было показано
    в предыдущих примерах.
</P>
</div>